## Mapping parameters

### doc_values

默认情况下，大多数字段都被索引，这使得它们可以搜索。反向索引允许查询在唯一排序的词汇列表中查询搜索词汇，并从该列表立即访问包含该词汇的文档列表。

脚本中的排序、聚合和字段中值的访问需要不同的数据访问模式。我们需要能够查询文档并且能在字段中找到所包含的项，而不是查找项和寻找文档。

文档值（Doc values）是磁盘上的数据结构，在创建文档索引时构建，这使得这种数据访问模式成为可能。将相同的值按照（as） `_source` 的方式存储，但采用面向列的方式，这对于排序和聚合更有效。几乎所有的字段类型都支持文档值，但 `text` 和 `annotated_text` 字段除外。

#### Doc-value-only fields

数值类型、日期类型、布尔类型、ip 类型、地理位置类型和关键词（keyword）类型就算不被索引但只要开启文档值也能被查询搜索。文档值上的查询性能比索引结构上的查询性能要慢得多，但对于很少查询且性能不那么重要的字段，这可以是磁盘使用和查询性能之间的一种权衡。这使得只包含文档值得字段非常适合通常不用于筛选得字段，例如度量数据上得计量表或计数器。

只包含文档值字段可以如下设置：

```
PUT /my-index-000001
{
  "mappings": {
    "properties": {
      "status_code": {
        "type":  "long"
      },
      "session_id": {	// index 被关闭了，因此默认启用只包含文档值字段类型
        "type":  "long",
        "index": false
      }
    }
  }
}
```

#### Disabling doc values

所有字段只要支持文档值就会默认被开启。如果确认某个字段上不用于排序、聚合或者通过脚本访问字段得值。你可以关闭文档值来节省磁盘空间：

```
PUT /my-index-000001
{
  "mappings": {
    "properties": {
      "status_code": { 
        "type":       "keyword"
      },
      "session_id": { 			// 虽然关闭了文档值，但是还是能够被查询
        "type":       "keyword",
        "doc_values": false
      }
    }
  }
}
```

> 通配符（wildcard）字段不能关闭文档值。
